<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Circle of Fifths Quiz</title>
    <style>
        body {
            font-family: 'Arvo', serif;
            background-color: #f0f0f0;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        .header {
            background-color: #000;
            color: #fff;
            width: 100%;
            padding: 20px 0;
            text-align: center;
        }
        .quiz-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            max-width: 500px;
            width: 100%;
            margin-top: 20px;
        }
        .question {
            margin-bottom: 20px;
        }
        .options {
            display: flex;
            flex-direction: column;
        }
        .option {
            margin: 5px 0;
            padding: 10px;
            background-color: #f0f0f0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .option:hover {
            background-color: #e0e0e0;
        }
        .option.selected {
            background-color: #4CAF50;
            color: white;
        }
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        #results {
            margin-top: 20px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>Circle of Fifths Quiz</h1>
        <div style="flex-direction: column;">
            <a>Settings</a>
            <a>Login</a>
            <a>Contact</a>
        </div>
    </div>
    <div class="quiz-container">
        <div id="question-container"></div>
        <div class="navigation">
            <button id="prev-btn" onclick="showPreviousQuestion()" disabled>Previous</button>
            <button id="next-btn" onclick="showNextQuestion()">Next</button>
        </div>
        <div id="results"></div>
        <button id="retry-btn" onclick="retryQuiz()" style="display:none; margin-top: 20px;">Retry Quiz</button>
    </div>

    <script>
        const questions = [
            {
                question: "What is the fifth of C major?",
                options: ["G", "D", "A"],
                correctAnswer: 0
            },
            {
                question: "What key has two sharps?",
                options: ["D", "A", "E"],
                correctAnswer: 0
            },
            {
                question: "What is the order of sharps in the Circle of Fifths?",
                options: ["FCGDAEB", "BEADGCF", "GDAEBFC"],
                correctAnswer: 0
            },
            {
                question: "Which key has one flat?",
                options: ["F", "Bb", "Eb"],
                correctAnswer: 0
            },
            {
                question: "What is the relative minor of G major?",
                options: ["E minor", "A minor", "D minor"],
                correctAnswer: 0
            }
        ];

        let currentQuestion = 0;
        const userAnswers = new Array(questions.length).fill(null);

        function displayQuestion() {
            const questionContainer = document.getElementById('question-container');
            const question = questions[currentQuestion];
            let html = `
                <div class="question">
                    <h2>Question ${currentQuestion + 1}</h2>
                    <p>${question.question}</p>
                    <div class="options">
            `;
            question.options.forEach((option, index) => {
                const isSelected = userAnswers[currentQuestion] === index;
                html += `
                    <button class="option ${isSelected ? 'selected' : ''}" onclick="selectOption(${index})">
                        ${option}
                    </button>
                `;
            });
            html += `
                    </div>
                </div>
            `;
            questionContainer.innerHTML = html;
            updateNavigationButtons();
        }

        function selectOption(optionIndex) {
            userAnswers[currentQuestion] = optionIndex;
            displayQuestion();
        }

        function showNextQuestion() {
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                showResults();
            }
        }

        function showPreviousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        function updateNavigationButtons() {
            document.getElementById('prev-btn').disabled = currentQuestion === 0;
            const nextBtn = document.getElementById('next-btn');
            nextBtn.textContent = currentQuestion === questions.length - 1 ? 'Finish' : 'Next';
        }

        function showResults() {
            const resultsContainer = document.getElementById('results');
            let correctAnswers = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === questions[index].correctAnswer) {
                    correctAnswers++;
                }
            });
            resultsContainer.innerHTML = `You got ${correctAnswers} out of ${questions.length} correct!`;
            document.getElementById('question-container').style.display = 'none';
            document.querySelector('.navigation').style.display = 'none';
            document.getElementById('retry-btn').style.display = 'block';
        }

        function retryQuiz() {
            // Reset quiz state
            currentQuestion = 0;
            userAnswers.fill(null);
            
            // Reset UI elements
            document.getElementById('question-container').style.display = 'block';
            document.querySelector('.navigation').style.display = 'flex';
            document.getElementById('results').innerHTML = '';
            document.getElementById('retry-btn').style.display = 'none';
            
            // Display first question again
            displayQuestion();
        }

        // Initialize the quiz
        displayQuestion();
    </script>
</body>
</html>